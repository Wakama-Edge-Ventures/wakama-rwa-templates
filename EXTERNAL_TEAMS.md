# Wakama Oracle - External Teams Quickstart

This document explains how an external lab or team can contribute real or simulated IoT data to the Wakama Oracle pipeline.

The goal is simple:

- you generate an agricultural or environmental sensor dataset for your own field or test site
- you keep your own team identity and GPS location
- Wakama ingests it into the open pipeline (IPFS + Solana devnet)
- your points appear in the global dashboard, with your team name

This file is part of the repository:
https://github.com/Wakama-Edge-Ventures/wakama-rwa-templates


## 1. Who this is for

This quickstart is for:

- university labs
- makerspaces
- tech clubs
- cooperatives and farmer groups
- research teams

You do not need to be a Solana expert. If you can run Node.js scripts and use GitHub, you are ready.


## 2. What you will do in less than one hour

In a normal session, your team will:

1. Fork this repository on GitHub
2. Clone your fork on your own machine
3. Create or adjust a generator script for your site (for example tomatoes in Bingerville, maize in Bouake, etc.)
4. Generate one or more JSON "batches" with realistic or Real values
5. Send the batch to Wakama or open a Pull Request so it can be added to the global pipeline
6. See your team name and points appear in the Wakama Oracle dashboard


## 3. Requirements

To follow this guide you need:

- a GitHub account
- Node.js 18 or higher installed
- basic Git usage (clone, commit, push)
- a text editor (VS Code, etc.)

You do not need:

- to manage your own Solana node / In the futur we can invit you to do it whit your ows nde
- to know how IPFS works internally  / In the futur we can invit you to do it whit your ows account
 

## 4. Fork and clone the templates repository

1. Open the main repo in your browser:

   https://github.com/Wakama-Edge-Ventures/wakama-rwa-templates

2. Click "Fork" in the top right corner and create a fork under your GitHub account or organization.

3. Then clone your fork locally:

   - Replace YOUR_ACCOUNT by your GitHub username or organization.

```bash
git clone https://github.com/YOUR_ACCOUNT/wakama-rwa-templates.git
cd wakama-rwa-templates
npm install
```
Now you are inside your own copy of the templates project.

5. Create a generator for your own site

In this repo, we use small Node.js scripts to generate realistic sensor batches.

The simplest way to start is:

Look into the folder:

ls tools


You will see scripts such as:

gen-sensor.cjs

gen-coop.cjs

make-receipt.cjs

Copy gen-sensor.cjs to a new file that clearly identifies your team and site. For example:

cp tools/gen-sensor.cjs tools/gen-sensor-yourteam.cjs


Edit tools/gen-sensor-yourteam.cjs and adjust at least:

source: use "external"

team: use a stable team id, for example "team-techlab-cme" or "team-makm2"

site: country, zone, locality, field, device, and gps

A typical header looks like this:
```
const batch = {
  type: "wakama.sensor.batch",
  version: 1,
  source: "external",
  team: "team-yourlab",
  site: {
    country: "CI",
    zone: "Abidjan",
    locality: "Bingerville",
    field: "yourlab-farm-10ha",
    device: "esp32-yourlab-001",
    gps: {
      lat: 5.39923,
      lon: -3.867965
    }
  },
  ts: new Date().toISOString(),
  readings: [
    // here you keep or adapt the generated series
  ],
  meta: {
    unitTime: "ms since epoch",
    note: "generated by tools/gen-sensor-yourteam.cjs"
  }
};
```

Adjust the climate profile in the readings section:

air temperature range (min and max degrees C)

humidity range

soil temperature

soil moisture

Try to approximate your real conditions (for example a typical week in November in your region). The script already uses a small random noise so values are not identical.

6. Generate a batch of points

To generate, run for example:
```
node tools/gen-sensor-yourteam.cjs 1000 generated/yourlab-1000-1.json
```

Explanation:

1000 is the number of points per series

generated/yourlab-1000-1.json is the output file

You can open the JSON file to verify:
```
sed -n "1,80p" generated/yourlab-1000-1.json
```

You should see:

type wakama.sensor.batch

source external

your team id

your GPS coordinates

an array of readings with realistic values

7. How your batch enters the Wakama pipeline

There are two ways to integrate your data.

Option A - Simple mode (recommended for first contact)

You keep your fork and your generator in your own GitHub.

You send the generated JSON file(s) to Wakama (for example by email, shared drive, or GitHub issue).

The Wakama team runs the official publisher:

uploads your batch to IPFS (Pinata)

publishes a receipt on Solana devnet

updates the global now.json file

refreshes the public dashboard

Your team will be visible in:

the global points counter (as source: external)

the breakdown by team (your team id)

the transaction and CID list for auditability

Option B - Advanced mode (running the publisher yourself)

If your team wants to go further, you can also:

clone the publisher repo

configure your own .env with Solana and Pinata credentials

publish directly to devnet

The publisher repository is:

https://github.com/Wakama-Edge-Ventures/wakama-oracle-publisher

This mode is optional. For milestone validation and collaboration, Option A is enough.

8. Open a Pull Request to share your generator

Even if you use Option A, we strongly encourage you to contribute your generator script so other teams can learn from your example.

Steps:

In your fork:
```
git add tools/gen-sensor-yourteam.cjs
git commit -m "Add YOURLAB external batch generator"
git push origin main
```

On GitHub, open a Pull Request from your fork to:

Wakama-Edge-Ventures/wakama-rwa-templates

In the PR description, include:

your team name

your region and crop type

a short note on how you built the climate profile (for example "based on average November temperatures in Bingerville")

Once merged:

your team will appear in the official repo as a reference example

the Wakama team can easily regenerate additional batches for your site if needed

9. How we count and display your points

Internally we use a small script:
```
npm run sum_receipts
```

This script:

loads all receipts from the publisher

if needed, reloads the original ingest file

counts the number of sensor points

aggregates by source and by team

Your data appears as:

source: external

team: team-yourlab

On the dashboard, you will see:

the list of your files

the IPFS CID

the Solana devnet transaction id

the site information (GPS, locality)

your contribution to the global point count

10. Questions and support

If you want to join the Wakama Oracle ecosystem as an external team and need help:

open an issue in this repository

or contact the Wakama team using the channels shared with you (email, Telegram, or Zoom)

We want this pipeline to be a real, shared tool for African and global labs that work on agriculture, climate, and real world data.


---
Wakama Edge Venture - wakama.farm - Supported by Solana Foundation 2025
